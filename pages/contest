<div class="contest-container">
    <div class="row">
        <div class="col-xs-12">
            <div id="contest_image">
                <script id="contest_template" type="x-tmpl-mustache">
                    <img alt="..." src="{{photo_url_abs}}">
                </script>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function() {
        function renderPageData(){
            var repoList = getRepoList();
            renderContest("contest_template", "contest_image", repoList);
        }
        loadMallData(renderPageData);

        $('#loading').hide();
        $('#page_content').fadeIn('fast');
    });
    
    function renderContest(contest_template, contest_image, repo){
    
        var item_list = [];
        var item_rendered = [];
        var contest_template_html = $(contest_template).html();
        console.log(contest_template_html);
        Mustache.parse(contest_template_html);   // optional, speeds up future uses
    
        
        $.each( repo , function( key, val ) {
            if( val.name == "contest"){
                $.each( val.images, function( key, image ) { 
                    
                    var repo_rendered = Mustache.render(contest_template_html,image);
                   // console.log(repo_rendered);
                    item_rendered.push(repo_rendered);
                });
            }
        });
       
       
        // $.each( item_list , function( key, val ) {
        //   console.log(val);
        //     var repo_rendered = Mustache.render(contest_template_html,val);
        //     item_rendered.push(repo_rendered);
        // });
      
       
        $(contest_image).show();
        $(contest_image).html(item_rendered.join(''));
    }
</script>